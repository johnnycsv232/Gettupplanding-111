# GETTUPPENT Development Rules
# These rules are ALWAYS active for this project

## Security-First Rules

### Never commit secrets
- Check for API keys, tokens, passwords before any commit
- Use environment variables for all sensitive data
- Firebase config should use .env.local

### Validate all inputs
- Use Zod schemas for form validation
- Server-side validation is mandatory
- Never trust client-side data

### Firebase Security
- Test security rules before every deploy
- Use Firebase Emulator for development
- No wildcard rules in production

## Test-First Rules

### Write tests before code
- Every new feature needs a test first
- Minimum 80% coverage for new code
- Run `npm run test` before commits

### Test categories required
- Unit tests for utilities and hooks
- Integration tests for API routes
- E2E tests for critical user flows

## Code Quality Rules

### TypeScript strictness
- No `any` types - use `unknown` with type guards
- All functions must have return types
- Enable strict mode in tsconfig

### React patterns
- Server Components by default
- `'use client'` only when necessary
- No prop drilling - use composition

### Performance
- Lazy load 3D components
- Use Next.js Image component
- Implement proper Suspense boundaries

## Git Rules

### Commit format
- feat: new features
- fix: bug fixes
- test: adding tests
- docs: documentation
- refactor: code changes without feature changes

### Branch protection
- No direct commits to main
- PRs require passing tests
- Squash merge preferred
